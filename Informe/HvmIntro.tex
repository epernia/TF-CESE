\section{HVM} \label{sec:disenoHVMintro}

El propósito de HVM es permitir programar en lenguaje Java dispositivos embebidos con pocos recursos. El código ANSI C generado puede compilarse utilizando un \textit{cross compiler} para el dispositivo en particular para generar el ejecutable.

\medskip

Los recursos mínimos necesarios en un microcontrolador son 10kB de ROM y 512 bytes de RAM. Sin embargo, para ejecutar programas de tamaño razonables, se necesitan 32 kB de ROM y 2kB de RAM.

\bigskip

HVM funciona realizando una traducción de un programa de usuario escrito en lenguaje Java, a un programa en lenguaje C que incluye el código de dicho programa y el código C generado de HVM. De esta manera, logra portabilidad entre diferentes microcontroladores y permite integración con programas escritos previamente en lenguaje C, como por ejemplo, el firmware de la CIAA. Requiere un toolchain de lenguaje C, para el microcontrolador objetivo, que permita compilar el código, generando un binario ejecutable, y su posterior descarga a dicho dispositivo. El proceso completo se ilustra en la figura [\ref{fig:Icecaptools}]. 

\begin{figure}[!htbp]
\begin{center}
\includegraphics*[width=12cm,height=12cm]{figuras/Icecaptools.png}
\par\caption{Esquema de funcionamiento del IDE para trabajar con HVM.}\label{fig:Icecaptools}
\end{center}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

EXPLICAR LA FIGURAAAAAAAA

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




\subsection{Obtención de un IDE para desarrollar programas Java SCJ sobre HVM}

En la sección [\ref{sec:VMsJava}] se adelantó que HVM se distribuye como un \textit{plugin} de Eclipse para convertirlo en un IDE para desarrollar programas Java SCJ sobre HVM. Para su utilización se debe descargar:

\begin{itemize}
\item
IDE Eclipse. En particular la distribución \textbf{Eclipse Automotive}, recomendada pues integra el desarrollo de aplicaciones Java y C.
\item
El \textit{plugin} de Eclipse de HVM \textbf{Icecaptools}. 
\item
\textbf{HVM SDK}.
\end{itemize}

\textbf{Eclipse Automotive} se descarga en \url{http://ECLIPSEEEEE}. Los otros dos se distribuyen como archivos \textit{.jar} y pueden descargarse de \url{http://icelab.dk/download.html} sus respectivos nombres son \textbf{icecaptools\_x.y.z.jar} e \textbf{icecapSDK.jar}.

\medskip

Una vez que se descarga y descomprime Eclipse se debe instalar sobre el mismo el \textit{plugin} \textbf{icecaptools}, que es el encargado de compilar el programa Java para utilizarse sobre HVM. Para realizar programas SCJ debe incluirse \textbf{icecapSDK} como biblioteca (Jar externa) al proyecto de aplicación Java.

\medskip

Finalmente se debe conseguir un compilador de lenguaje C para la arquitectura. Este compilador puede ser un  programa independiente o integrarse a Eclipse. De esta manera se completan las herramientas requerids para trabajar con HVM.


%%%%%%%%%%%%%%%


TRADUCTOR

HVM es un compilador de Java a C con un intérprete embebido. Esto significa que Permite traducir un programa Java a un programa en C. De esta manera, la entrada al proceso de traducción es un conjunto de archivos fuente en lenguaje Java y la salida un conjunto de archivos fuente en lenguaje C.


\input{Icecaptools}

	\subsection{Componentes}
	
	\subsection{Modo de utilización}

	\subsection{Características}
	

